#trigger:
#- main

pool:
  vmImage: 'windows-latest'

stages:
- stage: Build
  displayName: 'Build'
  jobs:
  - job: Build
    displayName: 'Build Job'
    steps:
    - task: NodeTool@0
      inputs:
        versionSpec: "12.14.1"
    - script: |
        yarn
  - job: CreateMonacoCorePackage
    displayName: 'Creates the Monaco core package based on the build'
    steps:
    - task: NodeTool@0
      inputs:
        versionSpec: "12.14.1"
#    - script: |
#        ./node_modules/.bin/gulp 
    - task: gulp@0
      inputs:
        gulpFile: 'gulpfile.js'
        targets: 'editor-distro'
        gulpjs: 'node_modules/gulp/bin/gulp.js'
        enableCodeCoverage: false
